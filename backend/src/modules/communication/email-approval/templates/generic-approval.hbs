<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Approval Required</title>
</head>
<body style="margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; background-color: #f8f9fa;">

    <!-- Header -->
    {{> header}}

    <!-- Main Content -->
    <div style="max-width: 600px; margin: 0 auto; background-color: white;">
        
        <!-- Greeting -->
        <div style="padding: 30px 30px 20px 30px;">
            <h2 style="margin: 0 0 10px 0; color: #333; font-size: 24px;">Hello {{approver.name}},</h2>
            <p style="margin: 0; color: #6c757d; font-size: 16px;">{{approval.description}}</p>
        </div>

        <!-- Request Details -->
        <div style="padding: 0 30px 20px 30px;">
            <div style="background-color: #f8f9fa; padding: 25px; border-radius: 8px; border-left: 4px solid #6f42c1;">
                <h3 style="margin: 0 0 20px 0; color: #333; font-size: 18px;">Request Details</h3>
                
                {{#if approval.details.title}}
                <div style="margin-bottom: 20px;">
                    <p style="margin: 0 0 5px 0; color: #6c757d; font-size: 14px; font-weight: 600;">Title</p>
                    <p style="margin: 0; color: #333; font-size: 16px;">{{approval.details.title}}</p>
                </div>
                {{/if}}

                {{#if approval.details.description}}
                <div style="margin-bottom: 20px;">
                    <p style="margin: 0 0 5px 0; color: #6c757d; font-size: 14px; font-weight: 600;">Description</p>
                    <p style="margin: 0; color: #333; font-size: 16px; background-color: white; padding: 15px; border-radius: 4px; border: 1px solid #e9ecef;">{{approval.details.description}}</p>
                </div>
                {{/if}}

                <div style="display: flex; flex-wrap: wrap; gap: 20px;">
                    {{#if approval.details.requestedBy}}
                    <div style="flex: 1; min-width: 200px;">
                        <p style="margin: 0 0 5px 0; color: #6c757d; font-size: 14px; font-weight: 600;">Requested By</p>
                        <p style="margin: 0; color: #333; font-size: 16px;">{{approval.details.requestedBy}}</p>
                    </div>
                    {{/if}}
                    {{#if approval.details.requestedAt}}
                    <div style="flex: 1; min-width: 200px;">
                        <p style="margin: 0 0 5px 0; color: #6c757d; font-size: 14px; font-weight: 600;">Requested On</p>
                        <p style="margin: 0; color: #333; font-size: 16px;">{{formatDate approval.details.requestedAt}}</p>
                    </div>
                    {{/if}}
                </div>

                {{#if approval.details.priority}}
                <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e9ecef;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <p style="margin: 0; color: #6c757d; font-size: 14px; font-weight: 600;">Priority:</p>
                        <span style="padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; 
                                   {{#ifEquals approval.details.priority 'high'}}background-color: #f8d7da; color: #721c24;{{/ifEquals}}
                                   {{#ifEquals approval.details.priority 'medium'}}background-color: #fff3cd; color: #856404;{{/ifEquals}}
                                   {{#ifEquals approval.details.priority 'low'}}background-color: #d1ecf1; color: #0c5460;{{/ifEquals}}">
                            {{approval.details.priority}} PRIORITY
                        </span>
                    </div>
                </div>
                {{/if}}
            </div>
        </div>

        <!-- Action Buttons -->
        {{> action-buttons}}

        <!-- Additional Information -->
        <div style="padding: 0 30px 30px 30px;">
            <div style="background-color: #e7e8ea; padding: 20px; border-radius: 8px; border: 1px solid #ced4da;">
                <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 16px;">ðŸ“‹ Next Steps</h4>
                <ul style="margin: 0; padding-left: 20px; color: #495057;">
                    <li>Review the request details carefully</li>
                    <li>Click "Approve" to proceed with the request</li>
                    <li>Click "Reject" if you need to decline (you'll be asked to provide a reason)</li>
                    <li>Contact the requester if you need additional information</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Footer -->
    {{> footer}}

</body>
</html>