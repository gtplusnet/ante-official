<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave Request - Approval Required</title>
</head>
<body style="margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; background-color: #f8f9fa;">

    <!-- Header -->
    {{> header}}

    <!-- Main Content -->
    <div style="max-width: 600px; margin: 0 auto; background-color: white;">
        
        <!-- Greeting -->
        <div style="padding: 30px 30px 20px 30px;">
            <h2 style="margin: 0 0 10px 0; color: #333; font-size: 24px;">Hello {{approverName}},</h2>
            <p style="margin: 0; color: #6c757d; font-size: 16px;">{{requestorName}} has submitted a <strong>Leave Request</strong> for your approval.</p>
        </div>

        <!-- Filing Details -->
        <div style="padding: 0 30px 20px 30px;">
            <div style="background-color: #f8f9fa; padding: 25px; border-radius: 8px; border-left: 4px solid #20c997;">
                <h3 style="margin: 0 0 20px 0; color: #333; font-size: 18px;">üèñÔ∏è Leave Request Details</h3>
                
                <!-- Employee Information -->
                <div style="background-color: white; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Employee Information</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div>
                            <p style="margin: 0 0 2px 0; color: #6c757d; font-size: 12px;">Full Name</p>
                            <p style="margin: 0; color: #333; font-size: 15px; font-weight: 500;">{{requestorName}}</p>
                        </div>
                        {{#if employeeId}}
                        <div>
                            <p style="margin: 0 0 2px 0; color: #6c757d; font-size: 12px;">Employee ID</p>
                            <p style="margin: 0; color: #333; font-size: 15px; font-weight: 500;">{{employeeId}}</p>
                        </div>
                        {{/if}}
                        {{#if department}}
                        <div>
                            <p style="margin: 0 0 2px 0; color: #6c757d; font-size: 12px;">Department</p>
                            <p style="margin: 0; color: #333; font-size: 15px; font-weight: 500;">{{department}}</p>
                        </div>
                        {{/if}}
                        {{#if position}}
                        <div>
                            <p style="margin: 0 0 2px 0; color: #6c757d; font-size: 12px;">Position</p>
                            <p style="margin: 0; color: #333; font-size: 15px; font-weight: 500;">{{position}}</p>
                        </div>
                        {{/if}}
                    </div>
                </div>

                <!-- Leave Details -->
                <div style="background-color: white; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Leave Information</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        {{#if leaveData}}
                        <div style="grid-column: span 2;">
                            <p style="margin: 0 0 2px 0; color: #6c757d; font-size: 12px;">Leave Type</p>
                            <p style="margin: 0; color: #333; font-size: 16px; font-weight: 600;">{{leaveData.leaveType}}</p>
                        </div>
                        <div>
                            <p style="margin: 0 0 2px 0; color: #6c757d; font-size: 12px;">Compensation Type</p>
                            <p style="margin: 0; color: #333; font-size: 15px; font-weight: 500;">
                                {{#eq leaveData.compensationType "WITH_PAY"}}
                                    <span style="color: #28a745;">‚úì With Pay</span>
                                {{else}}
                                    <span style="color: #dc3545;">‚úó Without Pay</span>
                                {{/eq}}
                            </p>
                        </div>
                        {{/if}}
                        <div>
                            <p style="margin: 0 0 2px 0; color: #6c757d; font-size: 12px;">Number of Days</p>
                            <p style="margin: 0; color: #20c997; font-size: 18px; font-weight: 600;">{{numberOfDays}} {{#eq numberOfDays 1}}day{{else}}days{{/eq}}</p>
                        </div>
                    </div>
                </div>

                <!-- Leave Period -->
                <div style="background-color: #d1f2eb; padding: 15px; border-radius: 6px; margin-bottom: 15px; border: 1px solid #a9e0d6;">
                    <h4 style="margin: 0 0 10px 0; color: #0a5842; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Leave Period</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div>
                            <p style="margin: 0 0 2px 0; color: #0a5842; font-size: 12px;">Start Date</p>
                            <p style="margin: 0; color: #0a5842; font-size: 15px; font-weight: 500;">{{dateFrom}}</p>
                            <p style="margin: 0; color: #0a5842; font-size: 13px;">{{dayFrom}}</p>
                        </div>
                        <div>
                            <p style="margin: 0 0 2px 0; color: #0a5842; font-size: 12px;">End Date</p>
                            <p style="margin: 0; color: #0a5842; font-size: 15px; font-weight: 500;">{{dateTo}}</p>
                            <p style="margin: 0; color: #0a5842; font-size: 13px;">{{dayTo}}</p>
                        </div>
                        {{#if returnDate}}
                        <div style="grid-column: span 2;">
                            <p style="margin: 0 0 2px 0; color: #0a5842; font-size: 12px;">Expected Return Date</p>
                            <p style="margin: 0; color: #0a5842; font-size: 15px; font-weight: 500;">{{returnDate}}</p>
                        </div>
                        {{/if}}
                    </div>

                    {{#if includesWeekend}}
                    <div style="margin-top: 10px; padding: 8px; background-color: #ffeaa7; border-radius: 4px;">
                        <p style="margin: 0; color: #856404; font-size: 13px;">‚ö†Ô∏è Note: Leave period includes weekend(s)</p>
                    </div>
                    {{/if}}
                </div>

                <!-- Leave Balance (for paid leaves) -->
                {{#if leaveBalance}}
                <div style="background-color: white; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Leave Balance Summary</h4>
                    <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #e9ecef;">Leave Plan</td>
                            <td style="padding: 8px; border-bottom: 1px solid #e9ecef; text-align: right; font-weight: 500;">{{leavePlanName}}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #e9ecef;">Current Balance</td>
                            <td style="padding: 8px; border-bottom: 1px solid #e9ecef; text-align: right; font-weight: 500;">{{currentBalance}} days</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #e9ecef;">Requested</td>
                            <td style="padding: 8px; border-bottom: 1px solid #e9ecef; text-align: right; font-weight: 500; color: #dc3545;">-{{numberOfDays}} days</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: 600;">Balance After Approval</td>
                            <td style="padding: 8px; text-align: right; font-weight: 600; color: {{#lt balanceAfter 0}}#dc3545{{else}}#28a745{{/lt}};">{{balanceAfter}} days</td>
                        </tr>
                    </table>
                    {{#lt balanceAfter 0}}
                    <div style="margin-top: 10px; padding: 8px; background-color: #f8d7da; border-radius: 4px;">
                        <p style="margin: 0; color: #721c24; font-size: 13px;">‚ö†Ô∏è Warning: Approval will result in negative leave balance</p>
                    </div>
                    {{/lt}}
                </div>
                {{/if}}

                <!-- Reason for Leave -->
                {{#if remarks}}
                <div style="background-color: white; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Reason for Leave</h4>
                    <p style="margin: 0; color: #333; font-size: 15px; line-height: 1.6;">{{remarks}}</p>
                </div>
                {{/if}}

                <!-- Work Handover -->
                {{#if handoverDetails}}
                <div style="background-color: white; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Work Handover Arrangements</h4>
                    <ul style="margin: 0; padding-left: 20px; color: #333; font-size: 14px;">
                        {{#each handoverDetails}}
                        <li>{{this}}</li>
                        {{/each}}
                    </ul>
                </div>
                {{/if}}

                <!-- Emergency Contact -->
                {{#if emergencyContact}}
                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 14px;">Emergency Contact During Leave</h4>
                    <p style="margin: 0; color: #333; font-size: 14px;">{{emergencyContact}}</p>
                </div>
                {{/if}}

                <!-- Recent Leave History -->
                {{#if recentLeaves}}
                <div style="background-color: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 14px;">Recent Leave History (Last 3 months)</h4>
                    <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                        <tr>
                            <th style="text-align: left; padding: 5px; color: #6c757d; border-bottom: 1px solid #dee2e6;">Type</th>
                            <th style="text-align: center; padding: 5px; color: #6c757d; border-bottom: 1px solid #dee2e6;">Period</th>
                            <th style="text-align: center; padding: 5px; color: #6c757d; border-bottom: 1px solid #dee2e6;">Days</th>
                        </tr>
                        {{#each recentLeaves}}
                        <tr>
                            <td style="padding: 5px;">{{this.type}}</td>
                            <td style="text-align: center; padding: 5px;">{{this.period}}</td>
                            <td style="text-align: center; padding: 5px;">{{this.days}}</td>
                        </tr>
                        {{/each}}
                    </table>
                </div>
                {{/if}}

                <!-- Attachments -->
                {{#if hasAttachment}}
                <div style="background-color: white; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #495057; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Attachments</h4>
                    <p style="margin: 0; color: #333; font-size: 14px;">
                        <span style="color: #28a745;">‚úì</span> Supporting documents attached
                        {{#if attachmentType}}({{attachmentType}}){{/if}}
                    </p>
                </div>
                {{/if}}

                <!-- Status -->
                <div style="margin-top: 20px; text-align: center;">
                    <span style="display: inline-block; padding: 8px 20px; background-color: #ffc107; color: #000; border-radius: 20px; font-size: 14px; font-weight: 600;">
                        ‚è≥ PENDING APPROVAL
                    </span>
                </div>

                <!-- Request Details -->
                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef; font-size: 12px; color: #6c757d;">
                    <div style="display: flex; justify-content: space-between;">
                        <span>Request ID: #{{filingId}}</span>
                        <span>Submitted: {{submittedDate}}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        {{> action-buttons}}

        <!-- Approval Guidelines -->
        <div style="padding: 0 30px 30px 30px;">
            <div style="background-color: #d1ecf1; padding: 20px; border-radius: 8px; border: 1px solid #bee5eb;">
                <h4 style="margin: 0 0 10px 0; color: #0c5460; font-size: 16px;">üìå Leave Approval Guidelines</h4>
                <ul style="margin: 0; padding-left: 20px; color: #0c5460; font-size: 14px;">
                    <li>Verify leave balance and entitlement</li>
                    <li>Check for conflicts with critical business dates/deadlines</li>
                    <li>Ensure adequate team coverage during absence</li>
                    <li>Review work handover arrangements</li>
                    <li>Consider impact on ongoing projects</li>
                    <li>Verify supporting documents for sick/emergency leaves</li>
                    <li>Check compliance with advance notice policy</li>
                    <li>Review patterns of leave requests (if applicable)</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Footer -->
    {{> footer}}

</body>
</html>